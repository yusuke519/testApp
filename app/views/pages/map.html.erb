<script src="http://maps.google.com/maps/api/js?sensor=true&amp;lang=ja"></script>
<%= javascript_include_tag "map" %>
<%= stylesheet_link_tag "map" %>

<div class='col-sm-2'>
	<%=render 'shared/leftMenu'%>
</div>
<div class='wrapper col-sm-10'>
	<div id="map"></div>
</div>

<div class="modal hide" id="waitModal" data-backdrop="static" data-keyboard="false">
  <div class="modal-header">
	<h1>Processing...</h1>
  </div>
  <div class="modal-body">
	<div class="progress progress-striped active">
	  <div class="bar" style="width: 100%;"></div>
	</div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
	<div class="modal-content">
	  <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h4 id="modalTitle" class="modal-title">Modal title</h4>
	  </div>
	  <div class="modal-body">
		<div class="progress progress-striped active">
		  <div id="roadProgress" class="progress-bar"  role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
			<span class="sr-only">45% Complete</span>
		  </div>
		</div>
	  </div>
	</div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<!-- Filter Modal -->
<div class="modal fade" id="filterModal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="filterModalLabel">Filter</h4>
      </div>
	  <div class="modal-body">
		  <form class="form-horizontal" accept-charset="UTF-8" action="/pages/map/load" role="form">
			  <h4>Type</h4>
			  <div class="form-group">
				  <label for="stop" class="col-sm-3 control-label">Stop</label>
				  <div class="col-sm-3">
					  <div class="make-switch" data-on="danger" id="stop">
						  <input id="stopC" type="checkbox" name="stop" checked>
					  </div>
				  </div>
				  <label for="bump" class="col-sm-3 control-label">Bump</label>
				  <div class="col-sm-3">
					  <div class="make-switch" data-on="danger" id="bump">
						  <input id="bumpC" name="bump" type="checkbox" checked>
					  </div>
				  </div>
			  </div>
			  <div class="form-group">
				  <label for="slope" class="col-sm-3 control-label">Slope</label>
				  <div class="col-sm-3">
					  <div class="make-switch" data-on="danger" id="slope">
						  <input id="slopeC" name="slope" type="checkbox" checked>
					  </div>
				  </div>
				  <label for="side_slope" class="col-sm-3 control-label">Side Slope</label>
				  <div class="col-sm-3">
					  <div class="make-switch" data-on="danger" id="sslope">
						  <input id="sslopeC" name="sslope" type="checkbox" checked>
					  </div>
				  </div>
			  </div>
			  <h4>Data Source</h4>
			  <div class="form-group">
				  <label for="user" class="col-sm-3 control-label"> User </label>
				  <div class="col-sm-9" id="user">
					  <select name="source" class="form-control">
						  <option>All User</option>
						  <option>You</option>
					  </select>
				  </div>
			  </div>
			  
			  <h4>Interval</h4>
			  <div class="form-group">
				  <div class="col-sm-3"></div>
				  <div align="left">
					  <label for="interval" class="col-sm-4"> From </label>
				  </div>
				  <div class="col-sm-1"></div>
				  <div align="left">
					  <label for="interval" class="col-sm-4"> To </label>
				  </div>
			  </div>

			  <div class="form-group">
				  <div class="input-daterange" id="datepicker">
					  <input type="text" class="input-small" name="start" />
					  <span class="add-on">to</span>
					  <input type="text" class="input-small" name="end" />
				  </div>
			  </div>
		  </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" onClick="ld()" >Load</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<% content_for :page_javascript do %>
  <script>
	function ld(){
	  val1 = $("select[name='source']").val();
	  alert(val1);
	  alert($("#stopC").prop('checked'));
	  
	  var testValues = {
	    source:$("select[name='source']").val(),
	    //filter:[
	    //  stop:$("input[name='stop']").val(),
	    //  bump:$("input[name='bump']").val(),
	    //  slope:$("input[name='slope']").val(),
	    //  sslope:$("input[name='sslope']").val(),
	    //  ],
	    //start:$("input[name='start']").val(),
	    //end:$("input[name='end']").val(),
	  }
	}
  </script>
<% end %>
